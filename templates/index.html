<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Multi-Language Text to Voice</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body { font-family: Segoe UI, Arial; background:#f4f6f8; }
.app { max-width:720px; margin:30px auto; background:#fff; padding:25px; border-radius:10px; }
label { font-weight:600; margin-top:15px; display:block; }
textarea, select, button { width:100%; padding:12px; margin-top:8px; }
button { border:none; border-radius:6px; cursor:pointer; }
.demo { background:#e9ecef; }
.preview { background:#dee2e6; }
.generate { background:#0d6efd; color:white; }
.spinner { display:none; text-align:center; margin-top:15px; }
footer { text-align:center; margin-top:20px; color:#777; }
</style>
</head>

<body>
<div class="app">
<h2>Multi-Language Text to Voice</h2>

<label>Enter Text</label>
<textarea id="text" maxlength="5000"></textarea>

<label>Language</label>
<select id="language">
<option>English</option>
<option>Tamil</option>
<option>Telugu</option>
<option>Hindi</option>
<option>Chinese</option>
</select>

<label>Gender</label>
<select id="gender">
<option>Female</option>
<option>Male</option>
</select>

<label>Voice</label>
<select id="voice"></select>

<button class="demo" onclick="demo()">ðŸŽ™ Demo</button>
<button class="preview" onclick="preview()">ðŸ”Š Preview</button>

<form method="post" action="/generate" onsubmit="beforeGenerate()">
<input type="hidden" name="text" id="hText">
<input type="hidden" name="voice" id="hVoice">
<button class="generate">ðŸŽ§ Generate & Download</button>
</form>

<div class="spinner" id="spinner">Generating audioâ€¦</div>
<audio id="player" controls style="width:100%; display:none;"></audio>

<footer>Â© 2025 Churchill J</footer>
</div>

<script>
const VOICES = {
 English:{Female:["en-US-JennyNeural","en-US-AriaNeural","en-US-AnaNeural","en-GB-LibbyNeural","en-IN-NeerjaNeural"],
          Male:["en-US-GuyNeural","en-US-DavisNeural","en-GB-RyanNeural","en-AU-WilliamNeural","en-IN-PrabhatNeural"]},

 Tamil:{Female:["ta-IN-PallaviNeural","ta-IN-KavyaNeural","ta-IN-ShanthiNeural","ta-IN-VaishaliNeural","ta-IN-MeenaNeural"],
        Male:["ta-IN-ValluvarNeural","ta-IN-SuryaNeural","ta-IN-KarthikNeural","ta-IN-ArjunNeural","ta-IN-MuruganNeural"]},

 Telugu:{Female:["te-IN-ShrutiNeural","te-IN-SiriNeural","te-IN-AnuNeural","te-IN-LakshmiNeural","te-IN-KalpanaNeural"],
         Male:["te-IN-MohanNeural","te-IN-RameshNeural","te-IN-KrishnaNeural","te-IN-SrinivasNeural","te-IN-RaviNeural"]},

 Hindi:{Female:["hi-IN-SwaraNeural","hi-IN-AditiNeural","hi-IN-PriyaNeural","hi-IN-KajalNeural","hi-IN-AnanyaNeural"],
        Male:["hi-IN-MadhurNeural","hi-IN-RahulNeural","hi-IN-AmitNeural","hi-IN-VikramNeural","hi-IN-SureshNeural"]},

 Chinese:{Female:["zh-CN-XiaoxiaoNeural","zh-CN-XiaoyiNeural","zh-HK-HiuMaanNeural","zh-TW-HsiaoChenNeural","zh-CN-LingxiaNeural"],
          Male:["zh-CN-YunxiNeural","zh-CN-YunjianNeural","zh-HK-WanLungNeural","zh-TW-YunJheNeural","zh-CN-YunzeNeural"]}
};

const lang=document.getElementById("language");
const gender=document.getElementById("gender");
const voice=document.getElementById("voice");
const spinner=document.getElementById("spinner");
const player=document.getElementById("player");

function updateVoices(){
 voice.innerHTML="";
 VOICES[lang.value][gender.value].forEach(v=>{
   let o=document.createElement("option");
   o.value=v; o.text=v;
   voice.appendChild(o);
 });
}
lang.onchange=gender.onchange=updateVoices;
updateVoices();

function show(s){ spinner.style.display=s?"block":"none"; }

function demo(){
 show(true);
 fetch("/demo",{method:"POST",headers:{"Content-Type":"application/json"},
 body:JSON.stringify({language:lang.value,voice:voice.value})})
 .then(r=>r.json()).then(d=>{ player.src=d.audio; player.style.display="block"; player.play(); show(false); });
}

function preview(){
 show(true);
 fetch("/preview",{method:"POST",headers:{"Content-Type":"application/json"},
 body:JSON.stringify({text:text.value,voice:voice.value})})
 .then(r=>r.json()).then(d=>{ player.src=d.audio; player.style.display="block"; player.play(); show(false); });
}

function beforeGenerate(){
 hText.value=text.value;
 hVoice.value=voice.value;
 show(true);
}
</script>
</body>
</html>
